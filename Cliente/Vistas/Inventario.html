<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://kit.fontawesome.com/30ae896a08.js" crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <link rel="stylesheet" href="stylo_Inventario.css">
  <title>INVENTARIO</title>

</head>

<body>
  <div class="container-fluid">
    <h1 class="text-center">INVENTARIO "LA JOYA"</h1>
  </div>
  <div class="contenedor-padre">
    <div class="contenedor">
      <div class="botones">
        <button class="btn btn-success" id="nuevoProductoBtn"><i class="fa-solid fa-cart-plus"></i>Nuevo
          producto</button>
        <button class="btn btn-warning" id="modificarProductoBtn"><i class="fa-solid fa-file-pen"></i>Modificar
          producto</button>
        <button class="btn btn-warning" id="consultarProductoBtn"><i class="fa-solid fa-magnifying-glass"></i>Consultar
          producto</button>
        <button class="btn btn-danger" id="eliminarProductoBtn"><i class="fa-sharp fa-solid fa-trash"></i>Eliminar
          producto</button>
        <button class="btn btn-danger" id="regresarBtn"><i class="fa-solid fa-house"></i>Regresar menu</button>
      </div>
    </div>
    <div class="container mt-0 position-relative">
      <div class="row">
        <div class="col text-center">
          <!-- Tabla centrada -->
          <div class="mx-auto"
            style="width: fit-content; height: 100vh; display: flex; align-items: center; justify-content: center;">
            <table class="table table-withe" id="table">
              <thead>
                <tr>
                  <th>id_inventario</th>
                  <th>C贸digo</th>
                  <th>Nombre</th>
                  <th>Descripcion</th>
                  <th>Cantidad</th>
                  <th>Precio</th>
                </tr>
              </thead>
              <tbody id="filas">
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <div class="position-absolute w-100 top translate" id="modal" style="background-color: rgb(17, 18, 18, 0.4)">
      <form class="form-control w-50" id="productForm">
        <h1 class="text-center">Registrar producto</h1>
        <div class="form-control border-white">
          <label for="codigo">C贸digo :</label>
          <input type="text" class="form-control w-25" id="codigo">
        </div>
        <div class="form-control border-white">
          <label for="nombre">Nombre :</label>
          <input type="text" class="form-control w-50" id="nombre">
        </div>
        <div class="form-control border-white">
          <label for="descripcion">Descripcion :</label>
          <input type="text" class="form-control" id="descripcion">
        </div>
        <div class="form-control border-white">
          <label for="cantidad">Cantidad :</label>
          <input type="number" class="form-control w-25" id="cantidad">
        </div>
        <div class="form-control border-white">
          <label for="precio">Precio:</label>
          <input type="number" class="form-control w-25" id="precio" step="0.01">
        </div>
        <div class="form-control border-white">
          <button class="btn btn-primary" id="BtnGuardar">Guardar</button>
          <button class="btn btn-danger close">Cerrar</button>
        </div>
      </form>
    </div>

    <script>
      // Obtener referencias a los elementos del DOM
      const nuevoProductoBtn = document.getElementById('nuevoProductoBtn');
      const modificarProductoBtn = document.getElementById('modificarProductoBtn');
      const consultarProductoBtn = document.getElementById('consultarProductoBtn');
      const eliminarProductoBtn = document.getElementById('eliminarProductoBtn');
      const modal = document.getElementById('modal');
      const cerrarBtn = document.querySelector('.close');
      const productForm = document.getElementById('productForm');
      const tableBody = document.querySelector('#table tbody');
      const rows = tableBody.getElementsByTagName('tr');

      // Agregar un manejador de eventos al bot贸n "Nuevo producto"
      nuevoProductoBtn.addEventListener('click', function () {
        modal.classList.remove('translate'); // Mostrar la ventana modal
      });

      // Agregar un manejador de eventos al bot贸n "Cerrar"
      cerrarBtn.addEventListener('click', function () {
        modal.classList.add('translate'); // Ocultar la ventana modal
      });

      modificarProductoBtn.addEventListener('click', function () {
        const selectedRow = getSelectedRow();
        if (selectedRow) {
          const idInventario = selectedRow.cells[0].innerText;
          const codigo = selectedRow.cells[1].innerText;
          const nombre = selectedRow.cells[2].innerText;
          const descripcion = selectedRow.cells[3].innerText;
          const cantidad = selectedRow.cells[4].innerText;
          const precio = selectedRow.cells[5].innerText;

          // Rellenar el formulario modal con los valores del producto seleccionado
          document.getElementById('codigo').value = codigo;
          document.getElementById('nombre').value = nombre;
          document.getElementById('descripcion').value = descripcion;
          document.getElementById('cantidad').value = cantidad;
          document.getElementById('precio').value = precio;

          modal.classList.remove('translate'); // Mostrar la ventana modal
        }
      });
    </script>

    <script src="../../Cliente/Logica/inventario.js"></script>
</body>

</html>